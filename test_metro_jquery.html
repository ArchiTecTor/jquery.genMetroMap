<!doctype html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src="jquery-current.js"></script>
    <script src="jquery.genmetromap.js"></script>
    <script>
        window.onload=function(){
            var count_stations_label=$('#stations');
            $('#metro').genMetroMap({
                mapUrl:'metro.gif',
                
                onSelect:function(){
            
                    var stations=new Array;
                    $('#metro').find('option:selected').each(function(){
                        stations.push($(this).text());
                        
                    });
        
                    if(stations.length)
                        count_stations_label.text('Выбрано: '+stations.join(', '));
                        
                    this.button.animate({opacity:1},500);
                },
                onDeselect:function(){
                    var stations=new Array;
                    $('#metro').find('option:selected').each(function(){
                        stations.push($(this).text());
                        
                    });
                    
                    if(stations.length)
                        count_stations_label.text('Выбрано: '+stations.join(', '));
                    
                    this.button.animate({opacity:0.5},500);
                },
                onInit:function(){
                    
                    $(this).find('button, img').css({opacity:0.5});
                }                            
            });
            
            
        };
        
    </script>
    <style>
        @import url(metro.css);

    </style>
    </head>
    <body>
        
        <select multiple="multiple" id="metro">
            <optgroup label="Сокольническая линия" style="color:red"><option value="1" x="488" y="59">Улица Подбельского</option><option value="10" x="288" y="354">Охотный ряд</option><option value="11" x="234" y="408">Библиотека им. Ленина</option><option value="12" x="208" y="434">Кропоткинская</option><option value="13" x="198" y="450">Парк Культуры</option><option value="14" x="86" y="604">Фрунзенская</option><option value="15" x="86" y="614">Спортивная</option><option value="16" x="86" y="624">Воробьевы горы</option><option value="17" x="86" y="633">Университет</option><option value="18" x="86" y="644">Проспект Вернадского</option><option value="19" x="86" y="658">Юго-западная</option><option value="2" x="488" y="70">Черкизовская</option><option value="3" x="488" y="78">Преображенская площадь</option><option value="4" x="488" y="89">Сокольники</option><option value="5" x="488" y="99">Красносельская</option><option value="6" x="381" y="254">Комсомольская</option><option value="7" x="370" y="272">Красные ворота</option><option value="8" x="351" y="290">Чистые пруды</option><option value="9" x="323" y="319">Лубянка</option></optgroup><optgroup label="Люблинская линия" style="color:#71C725"><option value="20" x="400" y="669">Зябликово</option><option value="21" x="406" y="654">Шипиловская</option><option value="22" x="406" y="643">Борисово</option><option value="23" x="406" y="633">Марьино</option><option value="24" x="406" y="624">Братискавская</option><option value="25" x="406" y="614">Люблино</option><option value="26" x="406" y="603">Волжская</option><option value="27" x="406" y="593">Печатники</option><option value="28" x="406" y="584">Кожуховская</option><option value="29" x="406" y="574">Дубровка</option><option value="30" x="455" y="438">Крестьянская застава</option><option value="31" x="454" y="372">Римская</option><option value="32" x="422" y="327">Чкаловская</option><option value="33" x="361" y="295">Сретенскай бульвар</option><option value="34" x="295" y="242">Трубная</option></optgroup><optgroup label="Замоскворецкая линия" style="color:#055014"><option value="35" x="190" y="59">Речной вокзал</option><option value="36" x="190" y="69">Водный стадион</option><option value="37" x="190" y="78">Войковская</option><option value="38" x="190" y="89">Сокол</option><option value="39" x="190" y="99">Аэропорт</option><option value="40" x="190" y="110">Динамо</option><option value="41" x="219" y="231">Белорусская</option><option value="42" x="228" y="264">Маяковская</option><option value="43" x="228" y="291">Тверская</option><option value="44" x="297" y="364">Театральная</option><option value="45" x="332" y="397">Новокузнецкая</option><option value="46" x="386" y="455">Павелецкая</option><option value="47" x="388" y="489">Автозаводская</option><option value="48" x="389" y="500">Коломенская</option><option value="49" x="392" y="511">Каширская</option><option value="50" x="388" y="622">Кантемировская</option><option value="51" x="389" y="633">Царицыно</option><option value="52" x="389" y="643">Орехово</option><option value="53" x="389" y="654">Домодедовская</option><option value="54" x="388" y="670">Красногвардейская</option></optgroup><optgroup label="Каховская линия" style="color:#1A9D8E"><option value="55" x="384" y="511">Каширская</option><option value="56" x="363" y="537">Варшавская</option><option value="57" x="301" y="593">Каховская</option></optgroup><optgroup label="Таганско-краснопресненская линия" style="color:#780060"><option value="58" x="489" y="663">Выхино</option><option value="59" x="489" y="654">Рязаский проспект</option><option value="60" x="489" y="644">Кузьминки</option><option value="61" x="489" y="633">Текстильщики</option><option value="63" x="488" y="624">Волгоградский проспект</option><option value="64" x="455" y="449">Пролетарская</option><option value="65" x="413" y="409">Таганская</option><option value="66" x="356" y="350">Китай-город</option><option value="67" x="316" y="310">Кузнецкий мост</option><option value="68" x="222" y="302">Пушкинская</option><option value="69" x="178" y="258">Баррикадная</option><option value="70" x="175" y="207">Улица 1905 года</option><option value="71" x="175" y="198">Беговая</option><option value="72" x="175" y="187">Полежаевская</option><option value="73" x="175" y="177">Октябрьское полу</option><option value="74" x="175" y="168">Щукинская</option><option value="75" x="175" y="158">Тушинская</option><option value="76" x="175" y="147">Сходненская</option><option value="77" x="175" y="137">Планерная</option></optgroup><optgroup label="Кольцевая линий" style="color:#640000"><option value="78" x="355" y="235">Проспект мира</option><option value="79" x="388" y="260">Комсомольская</option><option value="80" x="417" y="312">Курская</option><option value="81" x="408" y="401">Таганская</option><option value="83" x="381" y="446">Павелецкая</option><option value="84" x="289" y="485">Добрынинская</option><option value="85" x="236" y="472">Октябрьская</option><option value="86" x="192" y="442">Парк культуры</option><option value="87" x="158" y="374">Киевская</option><option value="90" x="186" y="266">Краснопресненская</option><option value="91" x="224" y="239">Белорусская</option><option value="92" x="264" y="222">Новослободская</option></optgroup><optgroup label="Калинская линия" style="color:#FFDA01"><option value="93" x="508" y="277">Новогиреево</option><option value="94" x="508" y="288">Перово</option><option value="95" x="509" y="298">Шоссе энтузиастов</option><option value="96" x="509" y="309">Авиамоторная</option><option value="97" x="455" y="361">Площадь Ильича</option><option value="98" x="417" y="397">Марксистская</option><option value="99" x="323" y="400">Третьяковская</option></optgroup><optgroup label="Калужско-рижская линия" style="color:#FF6400"><option value="100" x="389" y="59">Медведково</option><option value="101" x="389" y="70">Бабушкинская</option><option value="102" x="390" y="79">Свиблово</option><option value="104" x="388" y="89">Ботанический сад</option><option value="105" x="389" y="99">ВДНХ</option><option value="106" x="389" y="109">Алексеевская</option><option value="107" x="388" y="120">Рижская</option><option value="108" x="348" y="231">Проспект мира</option><option value="109" x="352" y="264">Сухаревская</option><option value="110" x="352" y="302">Тургеневская</option><option value="111" x="351" y="345">Китай-город</option><option value="112" x="324" y="392">Третьяковская</option><option value="113" x="242" y="479">Октябрьская</option><option value="115" x="190" y="564">Шаболовская</option><option value="116" x="189" y="574">Ленинский проспект</option><option value="117" x="190" y="583">Академическая</option><option value="118" x="190" y="593">Профсоюзная</option><option value="119" x="189" y="604">Новые черемушки</option><option value="120" x="190" y="614">Калужская</option><option value="121" x="190" y="624">Беляево</option><option value="122" x="190" y="634">Коньково</option><option value="123" x="190" y="643">Теплый стан</option><option value="124" x="190" y="654">Ясенево</option><option value="125" x="190" y="666">Новоясеневская</option></optgroup><optgroup label="Серпуховско-тимирязевская линия" style="color:#898DA2"><option value="126" x="289" y="129">Петровско-разумовская</option><option value="127" x="314" y="59">Алтуфьево</option><option value="128" x="315" y="70">Бибирево</option><option value="129" x="315" y="79">Отрадное</option><option value="130" x="315" y="89">Владыкино</option><option value="131" x="263" y="168">Тимирязевская</option><option value="132" x="263" y="179">Дмитровская</option><option value="133" x="263" y="188">Савеловская</option><option value="134" x="264" y="211">Менделеевская</option><option value="135" x="284" y="241">Цветной бульвар</option><option value="136" x="233" y="302">Чеховская</option><option value="137" x="240" y="417">Боровицкая</option><option value="138" x="289" y="467">Полянка</option><option value="139" x="288" y="497">Серпуховская</option><option value="140" x="289" y="547">Тульская</option><option value="141" x="288" y="557">Нагатинская</option><option value="142" x="288" y="566">Нагорная</option><option value="143" x="296" y="577">Нахимовский проспект</option><option value="144" x="288" y="593">Севастопольская</option><option value="145" x="288" y="624">Чертановская</option><option value="146" x="289" y="634">Южная</option><option value="147" x="289" y="645">Пражская</option><option value="148" x="290" y="654">Улица академика Янгеля</option><option value="149" x="290" y="664">Аннино</option><option value="150" x="289" y="695">Бульвар Дмитрия Донского</option></optgroup><optgroup label="Арбатско-покровская линия" style="color:#03196E"><option value="151" x="16" y="215">Строгино</option><option value="152" x="15" y="225">Крылатское</option><option value="153" x="16" y="236">Молодежная</option><option value="154" x="16" y="261">Кунцевская</option><option value="155" x="61" y="332">Славянский бульвар</option><option value="156" x="104" y="375">Парк победы</option><option value="157" x="154" y="381">Киевская</option><option value="158" x="172" y="391">Смоленская</option><option value="159" x="227" y="418">Арбатская</option><option value="160" x="326" y="373">Площадь революции</option><option value="162" x="424" y="318">Курская</option><option value="163" x="507" y="229">Бауманская</option><option value="164" x="508" y="217">Электрозаводская</option><option value="165" x="507" y="207">Семеновская</option><option value="166" x="508" y="198">Партизановская</option><option value="167" x="508" y="188">Измайловская</option><option value="168" x="508" y="177">Первомайская</option><option value="169" x="507" y="168">Щелковская</option></optgroup><optgroup label="Филевская линия" style="color:#0382CD"><option value="170" x="20" y="265">Кунцевская</option><option value="171" x="31" y="275">Пионерская</option><option value="172" x="40" y="286">Филевский парк</option><option value="173" x="50" y="295">Багратионовская</option><option value="174" x="61" y="306">ФИЛИ</option><option value="175" x="71" y="316">Кутузовская</option><option value="176" x="81" y="325">Студенческая</option><option value="177" x="150" y="373">Киевская</option><option value="178" x="190" y="377">Смоленская</option><option value="179" x="206" y="392">Арбатская</option><option value="180" x="222" y="409">Александровский сад</option><option value="181" x="127" y="347">Деловой центр</option><option value="182" x="127" y="336">Международная</option></optgroup><optgroup label="Бутовская линия" style="color:#9FD6E5"><option value="183" x="289" y="707">Улица старокачаловская</option><option value="184" x="288" y="723">Улица Скобелевская</option><option value="186" x="289" y="734">Бульвар адмирала Ушакова</option><option value="187" x="289" y="745">Улица Горчакова</option><option value="188" x="288" y="754">Бунинская аллея</option></optgroup>
</select>
        <div id="stations"></div>
    </body>
    
</html>